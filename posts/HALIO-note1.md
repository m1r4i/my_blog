---
title: 'HAL大阪教務室在室確認システム'
date: '2025-04-05'
category: 'HALIO'
smallTalk: '学校のシステムをオーバーラップした話'
---

# まず初めに  
大本のシステムを作ってくださった職員の方に感謝です。  
教員が今教務室にいるかどうかというのはHAL生にとってかなり重要な情報です。  
それを外部から簡単に確認できるようになったのは大変ありがたいことです。  

# 元のシステムの課題  
## 絞り込みができない  
自分の履修科目に関連した教員を探したくても名前の昇順にしか並べることができず、必要な情報を得るの時間がかかる。  

## リアルタイム性  
開いて自分でリロードしないと更新されません。  
これはHALガチ勢あるあるかもしれませんが、作業をしながら先生が戻った瞬間に凸って質問に行きたい...  
そんなこともありますよね?  
その点で元システムは少し使いにくいものでした。  

# ソリューション
このシステムでは上記の問題を解決するとともに、より便利な機能を実装しています。  

## 絞り込み機能
![filtering](/images/sc_halio_filter.png "filtering")  
大まかに科目ごとに絞り込めるようにしました。  
![filtering](/images/sc_halio_filter2.png "filtering")  
課題点としては情報が閉鎖的なHALの環境下に置いて自分自身とかかわりのない教員や講師の担当科目の情報を入手するのが困難であることです。  
この辺りはほか学科の学生にも協力してもらい順次情報を追加しています。  
![filtering](/images/sc_halio_filter3.png "filtering")  


## リアルタイム性  
ページを開いている間は20秒に1回自動的に情報を更新しています。  
大本のシステムで10秒に1回のリロードが許容されていたことを考えて20秒に1回の情報取得にしています。  
また1回のAPIリクエストでこのサイト上で使用するすべてのシステムのデータを更新しています。  

# さらなる機能  
毎回先生方が教務室におられるタイミングを見ながら教務室へ足を運ぶのは面倒です。  
それを回避するために必要なこと、それはどの時間帯に先生方が教務室におられるのかを分析することです。  
このシステムでは誰もサイトにアクセスしていない状態でも5分に一度APIリクエストを行い、データをアップデートしています。  
この際に先生方のステータスが変化したかどうかなどを判別し、時限別の先生方の在室率を過去3か月分のデータから計算して教員ごとに表示する機能を備えています。  
![timetable](/images/sc_halio_timetable.png "timetable")   

# 今後  
今ある課題として先生方の入力の正確性がいまいちな点です。  
先生方も多忙なためこれは仕方のないことですが、情報の正確率というのを知りたくなるのが人間というものです。  
とはいえ教務室にカメラを仕込むわけにはいきませんから、投票制にしてしまいましょう。  
Yahoo!天気に今のお天気は? のようなボタンがあるのはご存じでしょうか?  
それと同じ方式で、今の表示は正しいですか? [はい] [いいえ]  
のようにボタンを設置し、1セッションユーザー当たり1時限につき1回のみ投票できるようにして正確率を計算して表示する機能を実装予定です。  

# まとめ
これらのシステムにより大本のシステムにあった課題をクリアできると考えています。  
私が在学している間は止められるまでは開発を続けるつもりでいますので、ぜひ使ってみてください。  
HAL大阪生であればURLをお渡しするのでDMなりなんなりで連絡してきてください。  
他地区の方は...ご自身で作られるのがよろしいかと存じます。  
楽しいですよ、ぜひ。  
  
メール: [ohs30061@ohs.hal.ac.jp](mailto:ohs30061@ohs.hal.ac.jp)  
